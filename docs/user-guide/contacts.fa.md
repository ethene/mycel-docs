# مخاطبین

مخاطبین افرادی هستند که می‌توانید مستقیماً به آن‌ها پیام بدهید. این راهنما درک هویت شما، اشتراک آن با دیگران و مدیریت لیست مخاطبین را پوشش می‌دهد.

## هویت شما

### چه چیزی شما را شناسایی می‌کند

در Mycel، شما با یک **جفت کلید رمزنگاری** شناسایی می‌شوید، نه شماره تلفن یا ایمیل:

| جزء | توضیح | قابل اشتراک؟ |
|-----|-------|--------------|
| **کلید عمومی** | هویت شما که دیگران می‌بینند | بله |
| **کلید خصوصی** | کلید محرمانه برای امضا/رمزگشایی | هرگز |
| **UID دستگاه** | شناسه کوتاه مشتق از کلید عمومی | بله |
| **MycTag** | اثر انگشت قابل خواندن توسط انسان | بله |

### پیدا کردن هویت شما

1. Mycel را باز کنید
2. به **تنظیمات** بروید
3. روی **پروفایل** یا آواتار خود بزنید
4. ببینید:
   - کد QR (برای اشتراک آسان)
   - UID دستگاه (کوتاه و hex کامل)
   - اثر انگشت کلید عمومی
   - نام نمایشی

### درک UIDها

**UID دستگاه** شما یک شناسه منحصربه‌فرد است:

- **فرم کوتاه:** ۱۰-۱۲ کاراکتر، اشتراک شفاهی آسان‌تر
- **hex کامل:** شناسه کامل برای استفاده فنی

مثال: `LH6nQx...` (کوتاه) یا `4c48366e51782e...` (کامل)

---

## اشتراک هویت

### از طریق کد QR

ساده‌ترین راه برای اشتراک:

1. به **تنظیمات > پروفایل** بروید
2. کد QR شما نمایش داده می‌شود
3. از شخص دیگر بخواهید با Mycel اسکن کند

کد QR شامل:

- کلید عمومی شما
- نام نمایشی شما
- اختیاری: نشانه موقعیت

### از طریق کپی/پیست

1. به **تنظیمات > پروفایل** بروید
2. روی **کپی** کنار UID خود بزنید
3. از طریق هر برنامه پیام‌رسانی بفرستید
4. گیرنده UID را به صورت دستی در Mycel وارد می‌کند

### از طریق اشتراک سیستم

1. به **تنظیمات > پروفایل** بروید
2. روی **اشتراک‌گذاری** بزنید
3. هر برنامه‌ای را انتخاب کنید (پیام، ایمیل و غیره)
4. اطلاعات مخاطب شما به صورت متن ارسال می‌شود

---

## افزودن مخاطبین

### اسکن کد QR

1. Mycel را باز کنید
2. به تب **مخاطبین** بروید
3. روی آیکون اسکنر QR بزنید
4. دوربین را به کد QR آن‌ها بگیرید
5. مخاطب به طور خودکار اضافه می‌شود

بعد از اسکن:

- اطلاعات آن‌ها در مخاطبین شما ظاهر می‌شود
- می‌توانید بلافاصله گفتگو را شروع کنید

### ورود دستی

اگر UID را از طریق متن دریافت کردید:

1. به تب **مخاطبین** بروید
2. روی **افزودن مخاطب** یا **+** بزنید
3. UID دستگاه آن‌ها را وارد کنید
4. اختیاری یک نام مستعار اضافه کنید
5. روی **ذخیره** بزنید

!!! tip "UID را تأیید کنید"
    مطمئن شوید UID را درست وارد کرده‌اید. غلط تایپی یعنی پیام‌ها به جایی نمی‌روند.

---

## کشف مخاطبین

### کشف خودکار

وقتی نزدیک کاربران Mycel دیگر هستید:

1. دستگاه‌ها از طریق بلوتوث/وای‌فای یکدیگر را تشخیص می‌دهند
2. پروفایل‌های عمومی تبادل می‌شوند
3. مخاطبین جدید با نشان در لیست شما ظاهر می‌شوند

نیازی نیست کاربران نزدیک را به صراحت اضافه کنید - به طور خودکار کشف می‌شوند.

### کشف در مقابل مخاطبین

| | همتایان کشف شده | مخاطبین ذخیره شده |
|-|-----------------|------------------|
| به طور خودکار اضافه می‌شوند | بله | خیر |
| بعد از خروج از محدوده باقی می‌مانند | موقتاً | بله |
| می‌توان پیام داد | بله | بله |
| در مخاطبین نشان داده می‌شوند | بله (به عنوان همسایگان) | بله |

### نشان مخاطب جدید

وقتی مخاطبین جدید کشف می‌شوند:

- یک نشان روی تب مخاطبین ظاهر می‌شود
- مخاطبین جدید در لیست برجسته می‌شوند
- نشان وقتی مخاطبین را می‌بینید پاک می‌شود

---

## مدیریت مخاطبین

### مشاهده پروفایل مخاطب

1. به **مخاطبین** بروید
2. روی نام یا آواتار مخاطب بزنید
3. پروفایل آن‌ها را ببینید:
   - نام نمایشی
   - UID دستگاه
   - اثر انگشت کلید عمومی
   - آخرین بازدید
   - وضعیت آنلاین

### تغییر نام مخاطبین

می‌توانید یک نام مستعار محلی تنظیم کنید که فقط خودتان می‌بینید:

1. پروفایل مخاطب را باز کنید
2. روی **تغییر نام** یا آیکون ویرایش بزنید
3. نام مورد نظر خود را وارد کنید
4. ذخیره کنید

نام مستعار:

- فقط روی دستگاه شما ظاهر می‌شود
- نام واقعی آن‌ها را تغییر نمی‌دهد
- به شناسایی مخاطبین کمک می‌کند

### وضعیت مخاطب

| وضعیت | معنی |
|-------|------|
| **آنلاین** | در ۱۵ ثانیه اخیر متصل |
| **آفلاین** | در حال حاضر متصل نیست |
| **آخرین بازدید** | زمان آخرین اتصال |

### جستجوی مخاطبین

در تب مخاطبین:

1. از نوار جستجو در بالا استفاده کنید
2. با این‌ها جستجو کنید:
   - نام/نام مستعار
   - UID دستگاه
   - اثر انگشت

---

## شروع گفتگوها

### از مخاطبین

1. به **مخاطبین** بروید
2. روی یک مخاطب بزنید
3. روی **پیام** یا آیکون چت بزنید
4. شروع به نوشتن کنید

### از پروفایل مخاطب

1. پروفایل مخاطب را باز کنید
2. روی **شروع چت** یا **پیام** بزنید

### عملیات سریع

- روی یک مخاطب طولانی بزنید برای عملیات سریع
- برای عملیات رایج بکشید (بسته به دستگاه متفاوت است)

---

## همگام‌سازی مخاطبین

### نحوه کار

اطلاعات مخاطب از طریق مش همگام می‌شود:

1. وقتی با کسی مواجه می‌شوید، پروفایل‌ها تبادل می‌شوند
2. به‌روزرسانی‌های پروفایل (تغییر نام) منتشر می‌شوند
3. مخاطبین حذف شده به صورت محلی حذف شده می‌مانند

### چه چیزی همگام می‌شود

- نام‌های نمایشی
- کلیدهای عمومی
- نشانه‌های موقعیت اختیاری
- شماره‌های توالی پروفایل

### چه چیزی همگام نمی‌شود

- نام‌های مستعار محلی شما
- تاریخچه پیام
- گروه‌بندی/سازماندهی مخاطبین

---

## حریم خصوصی

### مخاطبین چه چیزی از شما می‌بینند

وقتی نزدیک هستید، دیگران می‌توانند ببینند:

- نام نمایشی شما
- UID دستگاه شما
- کلید عمومی شما
- که Mycel را اجرا می‌کنید
- موقعیت تقریبی (شما «نزدیک» هستید)

### چه چیزی را کنترل می‌کنید

- **نام نمایشی** - هر چه راحت هستید به اشتراک بگذارید
- **نام کامل** - اختیاری، می‌توانید خالی بگذارید
- **اشتراک موقعیت** - اختیاری برای مسیریابی جغرافیایی (سطح شهر، نه دقیق)

### توصیه‌ها

1. **از نام مستعار استفاده کنید** - اگر به حریم خصوصی حساس هستید از نام واقعی استفاده نکنید
2. **تنظیمات را بررسی کنید** - ببینید در تنظیمات پروفایل چه چیزی به اشتراک می‌گذارید
3. **آگاه باشید** - کشف نزدیک یعنی غریبه‌ها می‌دانند آنجا هستید

---

## عیب‌یابی

### «مخاطب یافت نشد»

- **UID را بررسی کنید** - مطمئن شوید درست وارد کرده‌اید
- **اتصال را بررسی کنید** - ممکن است اول باید در محدوده باشید
- **اسکن QR را امتحان کنید** - قابل اعتمادتر از ورود دستی است

### «نمی‌توانم کد QR را اسکن کنم»

- **مجوز دوربین را بررسی کنید** - Mycel به دسترسی دوربین نیاز دارد
- **نور را بهبود دهید** - کدهای QR به دید خوب نیاز دارند
- **ثابت نگه دارید** - هنگام اسکن گوشی را ثابت نگه دارید
- **فاصله را بررسی کنید** - نه خیلی نزدیک، نه خیلی دور

### «مخاطب آفلاین نشان می‌دهد»

- **ممکن است نزدیک نباشند** - آفلاین وقتی در محدوده نیستید عادی است
- **اتصال خود را بررسی کنید** - به آزمایشگاه مش > نزدیک بروید
- **صبور باشید** - وضعیت وقتی دوباره متصل شوید به‌روز می‌شود

### «تصادفاً مخاطب اشتباهی اضافه کردم»

- می‌توانید مخاطبین را از لیست خود حذف کنید
- در مخاطبین پیدا کنید، پروفایل را باز کنید، دنبال گزینه حذف بگردید
- تاریخچه پیام باقی می‌ماند اما بایگانی می‌شود

### «مخاطبین تکراری»

اگر کسی:

- برنامه را دوباره نصب کرده (هویت جدید)
- چند دستگاه دارد

هر دستگاه یک هویت منحصربه‌فرد تولید می‌کند، پس یک نفر روی دو دستگاه = دو مخاطب.

---

## سازماندهی لیست مخاطبین

### سنجاق کردن گفتگوها

مخاطبین مهم را می‌توان سنجاق کرد:

1. به **چت‌ها** > **پیام‌های مستقیم** بروید
2. روی یک گفتگو به راست بکشید
3. روی **سنجاق** بزنید

گفتگوهای سنجاق شده بالا می‌مانند.

### بایگانی گفتگوها

برای پنهان کردن گفتگوهای غیرفعال:

1. روی یک گفتگو به چپ بکشید
2. روی **بایگانی** بزنید

گفتگوهای بایگانی‌شده به تب بایگانی می‌روند.

### پیدا کردن مخاطبین بایگانی‌شده

1. به **چت‌ها** بروید
2. روی تب **بایگانی** بزنید
3. در صورت نیاز مشاهده و بازیابی کنید

---

## جزئیات فنی

### انواع کلید

| کلید | الگوریتم | هدف |
|------|----------|-----|
| هویت | Ed25519 | امضا، احراز هویت |
| رمزنگاری | X25519 | توافق کلید برای DM |

### داده‌های پروفایل

هر پروفایل مخاطب شامل:

- کلید عمومی (Ed25519)
- نام نمایشی
- نام کامل (اختیاری)
- برچسب دستگاه
- نشانه موقعیت (سلول H3، اختیاری)
- شماره توالی پروفایل
- زمان آخرین به‌روزرسانی

**عمیق‌تر:** [کلیدها و رمزنگاری](../deep-dive/identity/keys.md)

---

**بعدی:** [پیام‌رسانی](messaging.md) | [تنظیمات](settings.md) | [گروه‌ها](groups.md)
